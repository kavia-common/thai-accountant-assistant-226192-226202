{"is_source_file": true, "format": "JavaScript", "description": "This file defines the UploadsService class, which provides methods for handling upload records in a database, including creating, listing, retrieving, and updating uploads.", "external_files": ["../db/pool", "../errors/apiError"], "external_methods": ["query"], "published": ["new UploadsService()"], "classes": [{"name": "UploadsService", "description": "Service class responsible for managing upload records in the database."}], "methods": [{"name": "createUpload({ uploadType, file })", "description": "Creates a new upload record in the database from a multer file object.", "scope": "UploadsService", "scopeKind": "class"}, {"name": "listUploads({ uploadType, limit = 50, offset = 0 })", "description": "Retrieves a list of uploads, optionally filtered by upload type, with pagination.", "scope": "UploadsService", "scopeKind": "class"}, {"name": "getUpload(id)", "description": "Fetches a single upload record by its ID.", "scope": "UploadsService", "scopeKind": "class"}, {"name": "setStatus(id, status, errorMessage = null)", "description": "Updates the status (and optionally error message) of an upload record.", "scope": "UploadsService", "scopeKind": "class"}], "calls": ["query"], "search-terms": ["UploadsService", "createUpload", "listUploads", "getUpload", "setStatus", "uploads", "upload_type", "upload_time"], "state": 2, "file_id": 18, "knowledge_revision": 52, "git_revision": "95c0f60de593face0a4bfa25093ec367bf7571b4", "ctags": [{"_type": "tag", "name": "UploadsService", "path": "/home/kavia/workspace/code-generation/thai-accountant-assistant-226192-226202/accountant_backend/src/services/uploadsService.js", "pattern": "/^class UploadsService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "createUpload", "path": "/home/kavia/workspace/code-generation/thai-accountant-assistant-226192-226202/accountant_backend/src/services/uploadsService.js", "pattern": "/^  async createUpload({ uploadType, file }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ uploadType, file })", "scope": "UploadsService", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/thai-accountant-assistant-226192-226202/accountant_backend/src/services/uploadsService.js", "pattern": "/^module.exports = new UploadsService();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "getUpload", "path": "/home/kavia/workspace/code-generation/thai-accountant-assistant-226192-226202/accountant_backend/src/services/uploadsService.js", "pattern": "/^  async getUpload(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "UploadsService", "scopeKind": "class"}, {"_type": "tag", "name": "listUploads", "path": "/home/kavia/workspace/code-generation/thai-accountant-assistant-226192-226202/accountant_backend/src/services/uploadsService.js", "pattern": "/^  async listUploads({ uploadType, limit = 50, offset = 0 }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ uploadType, limit = 50, offset = 0 })", "scope": "UploadsService", "scopeKind": "class"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/thai-accountant-assistant-226192-226202/accountant_backend/src/services/uploadsService.js", "pattern": "/^  async setStatus(id, status, errorMessage = null) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, status, errorMessage = null)", "scope": "UploadsService", "scopeKind": "class"}], "hash": "1e4e9a481a0992714322c92f935b5c1e", "format-version": 4, "code-base-name": "accountant_backend", "filename": "accountant_backend/src/services/uploadsService.js", "fields": [{"name": "module.exports = new UploadsService();", "scope": "module", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"52": "95c0f60de593face0a4bfa25093ec367bf7571b4"}]}